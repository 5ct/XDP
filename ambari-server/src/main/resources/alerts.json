{
  "XDP": {
    "service": [
    ],
    "XDP_SERVER" : [
      {
        "name": "ambari_server_agent_heartbeat",
        "label": "XDP Agent Heartbeat",
        "description": "如果服务器与代理失去联系，就会触发此警报。",
        "interval": 2,
        "help_url": "https://cwiki.apache.org/confluence/display/AMBARI/Ambari+Alerts#AmbariAlerts-ambari_agent_heartbeat",
        "scope": "HOST",
        "enabled": true,
        "source": {
          "type": "SERVER",
          "class": "org.apache.ambari.server.alerts.AgentHeartbeatAlertRunnable"
        }
      },
      {
        "name": "ambari_server_stale_alerts",
        "label": "XDP Server Alerts",
        "description": "如果服务器检测到有未及时运行的警报，则触发此警报。",
        "interval": 5,
        "scope": "SERVICE",
        "enabled": true,
        "source": {
          "type": "SERVER",
          "class": "org.apache.ambari.server.alerts.StaleAlertRunnable",
          "parameters": [
            {
              "name": "stale.interval.multiplier",
              "display_name": "Interval Multiplier",
              "value": 2,
              "type": "NUMERIC",
              "description": "在警报之前必须经过的间隔数被认为是陈旧的。此值是每个警报的单独间隔的乘数。",
              "units": "Intervals",
              "threshold": "CRITICAL"
            }
          ]
        }
      },
      {
        "name": "ambari_server_performance",
        "label": "XDP Server Performance",
        "description": "如果服务器检测到有潜在的性能问题，就会触发次警报。这种问题的原因有很多种，但一般都是由于查询数据库过慢和主机资源好近所导致。",
        "interval": 5,
        "scope": "SERVICE",
        "enabled": true,
        "source": {
          "type": "SERVER",
          "class": "org.apache.ambari.server.alerts.AmbariPerformanceRunnable",
          "parameters": [
            {
              "name": "request.by.status.warning.threshold",
              "display_name": "Get Request Progress",
              "value": 3000,
              "type": "NUMERIC",
              "description": "触发警报警报之前正在查找请求的时间。",
              "units": "ms",
              "threshold": "WARNING"
            },
            {
              "name": "request.by.status.critical.threshold",
              "display_name": "Get Request Progress",
              "value": 5000,
              "type": "NUMERIC",
              "description": "触发关键警报前正在进行的请求的时间被触发。",
              "units": "ms",
              "threshold": "CRITICAL"
            },
            {
              "name": "task.status.aggregation.warning.threshold",
              "display_name": "Get Request Status",
              "value": 3000,
              "type": "NUMERIC",
              "description": "在触发警告警报之前从任务中计算请求状态的时间。",
              "units": "ms",
              "threshold": "WARNING"
            },
            {
              "name": "task.status.aggregation.critical.threshold",
              "display_name": "Get Request Status",
              "value": 5000,
              "type": "NUMERIC",
              "description": "在触发关键警报之前从任务中计算请求状态的时间。",
              "units": "ms",
              "threshold": "CRITICAL"
            },
            {
              "name": "rest.api.cluster.warning.threshold",
              "display_name": "Get Cluster",
              "value": 5000,
              "type": "NUMERIC",
              "description": "在警告警报触发之前，通过REST API获取群集的时间。",
              "units": "ms",
              "threshold": "WARNING"
            },
            {
              "name": "rest.api.cluster.critical.threshold",
              "display_name": "Get Cluster",
              "value": 7000,
              "type": "NUMERIC",
              "description": "在关键警报触发之前，通过REST API获取群集的时间。",
              "units": "ms",
              "threshold": "CRITICAL"
            }
          ]
        }
      }
    ],
    "XDP_AGENT" : [
      {
        "name": "ambari_agent_disk_usage",
        "label": "Host Disk Usage",
        "description": "如果所使用的磁盘空间超过特定阈值，则触发此主机级警报。默认阈值是警告值的50%，临界值为80%。",
        "interval": 1,
        "scope": "HOST",
        "enabled": true,
        "source": {
          "type": "SCRIPT",
          "path": "alert_disk_space.py",
          "parameters": [
            {
              "name": "minimum.free.space",
              "display_name": "Minimum Free Space",
              "value": 5000000000,
              "type": "NUMERIC",
              "description": "在触发警报之前留下的空闲磁盘空间的总数量。",
              "units": "bytes",
              "threshold": "WARNING"
            },
            {
              "name": "percent.used.space.warning.threshold",
              "display_name": "Warning",
              "value": 50,
              "type": "PERCENT",
              "description": "在警告被触发之前消耗的磁盘空间百分比。",
              "units": "%",
              "threshold": "WARNING"
            },
            {
              "name": "percent.free.space.critical.threshold",
              "display_name": "Critical",
              "value": 80,
              "type": "PERCENT",
              "description": "在关键警报被触发之前所消耗的磁盘空间百分比。",
              "units": "%",
              "threshold": "CRITICAL"
            }
          ]
        }
      }
    ]
  }
}
